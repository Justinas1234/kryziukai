import random
from typing import List

class AI:
    def __init__(self, marker: str):
        self.marker: str = marker

    def get_move(self, board: List[str], possible_choices: List[int], player_marker: str) -> int:
        """AI chooses the best move using a simple strategy."""
        # Check for winning move
        for move in possible_choices:
            board_copy = board.copy()
            board_copy[move - 1] = self.marker
            if self._is_winner(board_copy, self.marker):
                return move

        # Block player's winning move
        for move in possible_choices:
            board_copy = board.copy()
            board_copy[move - 1] = player_marker
            if self._is_winner(board_copy, player_marker):
                return move

        # Random move if no strategic move found
        return random.choice(possible_choices)

    def _is_winner(self, board: List[str], marker: str) -> bool:
        """Checks if a marker has won the game on a given board."""
        win_combinations = [
            (0, 1, 2), (3, 4, 5), (6, 7, 8),  # Rows
            (0, 3, 6), (1, 4, 7), (2, 5, 8),  # Columns
            (0, 4, 8), (2, 4, 6)  # Diagonals
        ]
        return any(all(board[pos] == marker for pos in combo) for combo in win_combinations)
